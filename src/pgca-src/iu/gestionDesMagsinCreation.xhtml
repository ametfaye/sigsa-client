<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="template.pgca.xhtml"
	xmlns:c="http://java.sun.com/jstl/core">

	<ui:define name="title">PGCA Tableau de bord agent de saisie</ui:define>

	
	<ui:define name="section">
		<div class="container-fluid">
		
				<br/><br/><br/>
			<div id="engraisCreate" class="form-horizontal">
				<h:form  class="col-md-12" >
									
					
					<p class="titrePage">Edition d'un Point de vente</p>
							<p:messages id="messages" showDetail="true" style="width : 60% ; margin-left : 20%" />			
					
						
				
					<div class="col-xs-6 col-xs-offset-2">
						
						
					<div class="form-group">
							<label for="inputPassword3" class="col-sm-4 control-label">Nom Point de vente</label>
							<div class="col-sm-8">
								<p:inputText
									value="#{referentielMB.pointDeVente.libelle}"
									styleClass="form-control" title="L'adresse"  
									required="true"  requiredMessage="Le nom  du point de vente est requis" />
							</div>
						</div>
						
						

						<div class="form-group">
							<label for="inputEmail3" class="col-sm-4 control-label">Région</label>
							<div class="col-sm-8">
								<h:selectOneMenu value="#{referentielMB.pointDeVente.idRegion}"
									required="true"
									styleClass="form-control input-sm CustomSelect"
									requiredMessage="La region est requise ">
									<f:selectItem itemLabel="Selectionnez une region "
										itemValue="" />
									<f:selectItems value="#{referentielMB.loadAllRegions()}"
										var="CollaborateurDTO" itemValue="#{CollaborateurDTO.clef}"
										itemLabel="#{CollaborateurDTO.valeur}" />

									<p:ajax event="change"
										listener="#{referentielMB.refreshDepartementByRegionId()}"
										update="deptList communList" />
								</h:selectOneMenu>
							</div>
						</div>
							
							
						<h:panelGroup id="deptList">
							<div class="form-group">
								<label for="inputEmail3" class="col-sm-4 control-label">Département</label>

								<div class="col-sm-8">
									<h:selectOneMenu
										value="#{referentielMB.pointDeVente.idDepartement}"
										required="true"
										styleClass="form-control input-sm CustomSelect"
										requiredMessage="Le departement est requis">
										<f:selectItem itemLabel="Selectionnez un département"
											itemValue="" />
										<f:selectItems value="#{referentielMB.departements}"
											var="CollaborateurDTO" itemValue="#{CollaborateurDTO.clef}"
											itemLabel="#{CollaborateurDTO.valeur}" />
										<p:ajax event="change"
											listener="#{referentielMB.refreshCommunesByDepratementId()}"
											update="communList" />

									</h:selectOneMenu>
								</div>
							</div>
						</h:panelGroup>	


						<h:panelGroup id="communList">
							<div class="form-group">
								<label for="inputEmail3" class="col-sm-4 control-label">Commune</label>
								<div class="col-sm-8">
									<h:selectOneMenu
										value="#{referentielMB.pointDeVente.idCommune}"
										required="true"
										styleClass="form-control input-sm CustomSelect"
										requiredMessage="La commune est requise">
										<f:selectItem itemLabel="Selectionnez une commune"
											itemValue="" />
										<f:selectItems value="#{referentielMB.communes}"
											var="CollaborateurDTO" itemValue="#{CollaborateurDTO.clef}"
											itemLabel="#{CollaborateurDTO.valeur}" />

									</h:selectOneMenu>
								</div>
							</div>
						</h:panelGroup>
						
						
						<div id="buttons" class="pull-right">
						<br/>
					<br/>
					
					<h:commandButton styleClass="suivant btn btn-validatd pull-right"
						action="#{referentielMB.createPointdeVenteCommune}" value="Créer"
						name="suivants"   style="width : 160px ; margin-left : 12px; margin-right : 20px" class=" btn btn-success pull-right"/>
	
					<a type="submit"
						href="dashboardAgentsaisie.xhtml?"
						class="fa fa-undo btn btn-default pull-right"> Annuler</a>
				</div>

					</div>


					
						
				
				</h:form>
			
			
			</div>

			

		</div>
	</ui:define>

</ui:composition>